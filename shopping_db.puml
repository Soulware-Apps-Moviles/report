@startuml database
package "Shopping Context - Database Model" {

    entity "shopping_bags" as shopping_bags {
    * id : UUID <<PK>>
    * user_id : UUID
    --
    created_at : TIMESTAMP
    }

    entity "shopping_bag_items" as shopping_bag_items {
    * id : UUID <<PK>>
    --
    bag_id : UUID <<FK>>
    product_id : UUID
    product_name : VARCHAR
    thumbnail_url : VARCHAR
    reference_price : DECIMAL(10,2)
    quantity : INT
    }

    entity "shopping_lists" as shopping_lists {
    * id : UUID <<PK>>
    --
    user_id : UUID
    name : VARCHAR
    created_at : TIMESTAMP
    }

    entity "shopping_list_items" as shopping_list_items {
    * id : UUID <<PK>>
    --
    list_id : UUID <<FK>>
    product_id : UUID
    product_name : VARCHAR
    thumbnail_url : VARCHAR
    reference_price : DECIMAL(10,2)
    quantity : INT
    }

    entity "favorite_products" as favorite_products {
    * id : UUID <<PK>>
    --
    user_id : UUID
    product_id : UUID
    product_name : VARCHAR
    thumbnail_url : VARCHAR
    reference_price : DECIMAL(10,2)
    added_at : TIMESTAMP
    }

    ' =======================
    ' === Relationships
    ' =======================
    shopping_bags ||--o{ shopping_bag_items : contains
    shopping_lists ||--o{ shopping_list_items : contains
}
@enduml
